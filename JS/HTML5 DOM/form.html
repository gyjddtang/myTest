<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>HTML DOM中的form对象</title>
    <style>
        .redBg {
            background: red;
        }
    </style>
</head>

<body>
    <h2>发表留言</h2>
    <form name="msgForm">
        姓名：
        <input type="text" name="userName" placeholder="请输入姓名" onblur="changeBg(this)">姓名必须六位字符内
        <br> 内容：
        <textarea name="content" placeholder="请输入留言内容" onblur="changeBg(this)"></textarea>内容不能为空
        <br>
        <input type="checkbox" onclick="read(this)">我已阅读条款
        <br>
        <input type="submit" value="提交" disabled="disabled" onclick="subForm(event)">
    </form>


    <script>
        var form = document.forms["msgForm"];

        function read(chb) {
            var btnSub = form.elements[form.elements.length - 1];
            btnSub.disabled = !chb.checked;
        }

        function changeBg(evt) {
            evt.className = "";
        }

        function subForm(evt) {
            var txtName = form.userName;
            var txtCont = form.content;
            var res = true;
            if (txtName.value.length > 6) {
                txtName.focus();
                txtName.className = "redBg";
                res = false;
            } else if (txtCont.value.length == 0) {
                txtCont.focus();
                txtCont.className = "redBg";
                res = false;
            }
            if (!res) {
                if (evt.preventDefault) {
                    evt.preventDefault();
                } else {
                    evt.returnValue = false;
                }
            }
        }
    </script>
</body>

</html>