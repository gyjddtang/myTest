<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>animation</title>
  <link rel="stylesheet" href="css/animation1.css">
</head>
<body>
  <div class="box">
    <div class="round">

    </div>
  </div>

  <script src='js/jquery.min.js'></script>
  <script>
    $(function() {
      let nowDeg = -63;
      for(let i = 0; i < 100; i++) {
        nowDeg += 3;
        let frag = `<div class='line' style='transform:rotate(${nowDeg + 3}deg) translateX(-142px);'></div>`;
        $('.round').append(frag);
      }

      //jQuery
      // let score = 90;
      // let i = 0;
      // animation();
      // function animation() {
      //   if(i >= score) return;
      //   $('.round .line').eq(i).animate({
      //     opacity: 1
      //   }, 10, function() {
      //     animation();
      //   });
      //   i++;
      // }

      // 1. animation1
      let score = 90;
      for(let i = 0; i < score; i++) {
        $(`.round .line:nth-child(${i})`).css('animation', `animated .1s linear 0.${i < 10 ? '0' + i : i}s forwards`);
      }

      // 2. animation2
      // let _noeDeg = -63;
      // for(let i = 0; i < 80; i++) {
      //   _noeDeg += 3;
      //   let frag = `<div class='lineSolid' style='transform:rotate(${_noeDeg + 3}deg) translateX(-142px); animation:animated .1s linear 0.${i < 10 ? '0' + i : i}s infinite'></div>`;
      //   $('.round').append(frag);
      // }

      // 3. 周期函数
      // let timer = null;
      // let i = 1;
      // timer = setInterval(function() {
      //   if(i <= 100) {
      //     $(`.round .line:nth-child(${i})`).css('background-color', 'rgba(255, 255, 255, 1)');
      //     i++;
      //   } else {
      //     clearInterval(timer);
      //     timer = null;
      //   }
      // }, 10)
    })
  </script>
</body>
</html>
